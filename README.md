## 比赛题目
- 码农来搬砖

## 比赛要求
- 不限定传输协议、不限定数据序列化格式、不限定编程语言。
- 代码包含Client端和Server端两部分。Server限制为单进程，单端口。允许多连接。
- 要搬的砖头代表存在于Server上的测试数据, 来自一个大文件（排位赛为1g，决赛为16g）,文件的每一行代表一个砖头(换行符'\r\n')。文件中每一行的长度范围为0-200个字节(ascii32-127
)
- client端单个线程中的调用形式为同步调用请求（当前请求未得到响应前，即未收到完整的一行，则不得发起下轮请求）,单次请求只能获取一块砖
- Server端要保证对砖头的处理是顺序的
- 需要对砖头进行处理，去掉行中间的三分之一字符（从size/3字符开始去掉size/3个字符，除法向下取整)后将剩余部分以倒序的方式传输 例如 123456789 => 123789 => 987321
- 每块砖头需要标记上序号（最终结果，每行前加上准确的序号，序号从零开始自增,为字符串）例如第0行aaa 则结果为 0aaa
- 以上对砖头的处理(截取三分之一,倒序,加序号)必须是在砖头被client请求之后再处理,不得在预处理阶段处理，但不限于在Server端或者Client端做处理(请求哪块砖头处理哪块)
- 保证砖头数量并保证写入结果文件的顺序与服务器文件的顺序一致。
- 具备通用性，不要针对特殊的对象和Size做优化。
- 不能做内核运行环境层面的patch，包括内核参数的调整，但允许使用内核的底层功能。
- 考虑到不限定语言，比赛不提供基准测试框架。
- 请自行打印测试时间,client main函数第一行打印一次时间,在进程结束前打印一次时间。打印时间后必须杀掉整个进程。若review代码发现作弊警告一次,第二次取消比赛资格
- 根目录下需要提供四个脚本:
	- client.sh 客户端执行脚本 运行格式为 client.sh  ip  port  输出文件名，请将最终结果输出为给定的文件名
	- compile-client.sh 客户端编译脚本 
	- compile-server.sh 服务端编译脚本
	- server.sh 服务端执行脚本 运行格式为 server.sh  源文件 port
	- 耗时请自行输出到标准输出流，格式为 cost=123232  (单位毫秒)请保证耗时输出有且仅有一份，我们将以此为成绩评判标准
- 若使用了非Java,c 之外的语言需要部署编译环境请单独联系 叔至

## 比赛提示
- 测试方法为 启动Server进程,5s后启动client进程 5s内可以读取文件,切割文本等,但是不能对文本本身做处理
- demo目录下的为例子程序
- 每次测试前会清理pagecache
- 文件字符都是ascii码的 
- 端口1024-65535均不作限制
- 禁止使用通信框架

## 比赛数据
- 源数据 /data/data
- 结果数据 /data/result

## 测试机器
- 10.97.240.135
- 10.97.240.136
- 10.97.240.137
- 10.97.240.138
- 10.97.240.139
- 10.97.240.140
- 10.97.240.141
- 10.97.240.142
- aops上注册权限

## 解读会录音
- http://yunpan.alibaba-inc.com/share/link/FaIG2ozOi


## MetaQ性能测试环境 有兴趣的童鞋可以上去看看
- [http://gitlab.alibaba-inc.com/middleware/coding-geek/wikis/metaq-benchmark](http://gitlab.alibaba-inc.com/middleware/coding-geek/wikis/metaq-benchmark)